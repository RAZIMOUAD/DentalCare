<section class="min-h-screen flex items-center justify-center bg-gradient-to-br from-[#f0fdfa] to-white px-4 py-12">
  <div class="relative w-full max-w-lg rounded-2xl shadow-2xl border border-[#d0f5e2] bg-white/70 backdrop-blur-xl p-8 overflow-hidden">

    <!-- Effets artistiques d√©coratifs -->
    <div class="absolute -top-12 -left-12 w-48 h-48 bg-cyan-100 opacity-30 rounded-full blur-2xl z-0"></div>
    <div class="absolute -bottom-12 -right-12 w-48 h-48 bg-cyan-200 opacity-30 rounded-full blur-2xl z-0"></div>

    <!-- Contenu principal -->
    <div class="relative z-10" [@fadeInUp]>
      <h2 class="text-3xl md:text-4xl font-extrabold text-cyan-900 text-center mb-2">Cr√©er un compte</h2>
      <p class="text-center text-cyan-800 text-sm mb-6">Rejoignez DentalCare d√®s maintenant ü¶∑</p>

      <!-- Message succ√®s -->
      <div *ngIf="successMessage" class="text-center text-green-700 bg-green-100 px-4 py-2 rounded-lg text-sm mb-4">
        {{ successMessage }}
      </div>

      <!-- Message erreur -->
      <div *ngIf="serverError" class="text-center text-red-600 bg-red-100 px-4 py-2 rounded-lg text-sm mb-4">
        {{ serverError }}
      </div>

      <!-- Formulaire -->
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="space-y-5">

        <!-- Pr√©nom -->
        <div>
          <label for="firstname" class="block mb-1 text-sm font-medium text-gray-700">Pr√©nom</label>
          <input
            id="firstname"
            type="text"
            formControlName="firstname"
            placeholder="John"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-400"
            [class.border-red-500]="firstnameControl?.touched && firstnameControl?.invalid"
          />
          <div *ngIf="firstnameControl?.touched && firstnameControl?.invalid" class="text-sm text-red-500 mt-1">
            <span *ngIf="firstnameControl?.errors?.['required']">Pr√©nom requis.</span>
            <span *ngIf="firstnameControl?.errors?.['minlength']">Minimum 2 caract√®res.</span>
          </div>
        </div>

        <!-- Nom -->
        <div>
          <label for="lastname" class="block mb-1 text-sm font-medium text-gray-700">Nom</label>
          <input
            id="lastname"
            type="text"
            formControlName="lastname"
            placeholder="Doe"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-400"
            [class.border-red-500]="lastnameControl?.touched && lastnameControl?.invalid"
          />
          <div *ngIf="lastnameControl?.touched && lastnameControl?.invalid" class="text-sm text-red-500 mt-1">
            <span *ngIf="lastnameControl?.errors?.['required']">Nom requis.</span>
            <span *ngIf="lastnameControl?.errors?.['minlength']">Minimum 2 caract√®res.</span>
          </div>
        </div>

        <!-- Email -->
        <div>
          <label for="email" class="block mb-1 text-sm font-medium text-gray-700">Email</label>
          <input
            id="email"
            type="email"
            formControlName="email"
            placeholder="john.doe@mail.com"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-400"
            [class.border-red-500]="emailControl?.touched && emailControl?.invalid"
          />
          <div *ngIf="emailControl?.touched && emailControl?.invalid" class="text-sm text-red-500 mt-1">
            <span *ngIf="emailControl?.errors?.['required']">Email requis.</span>
            <span *ngIf="emailControl?.errors?.['email']">Format invalide.</span>
          </div>
        </div>

        <!-- Mot de passe -->
        <div>
          <label for="password" class="block mb-1 text-sm font-medium text-gray-700">Mot de passe</label>
          <input
            id="password"
            type="password"
            formControlName="password"
            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-400"
            [class.border-red-500]="passwordControl?.touched && passwordControl?.invalid"
          />
          <div *ngIf="passwordControl?.touched && passwordControl?.invalid" class="text-sm text-red-500 mt-1">
            <span *ngIf="passwordControl?.errors?.['required']">Mot de passe requis.</span>
            <span *ngIf="passwordControl?.errors?.['minlength']">Minimum 6 caract√®res.</span>
          </div>
        </div>

        <!-- Confirmation -->
        <div>
          <label for="confirmPassword" class="block mb-1 text-sm font-medium text-gray-700">Confirmer le mot de passe</label>
          <input
            id="confirmPassword"
            type="password"
            formControlName="confirmPassword"
            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-400"
            [class.border-red-500]="confirmPasswordControl?.touched && confirmPasswordControl?.invalid || registerForm.errors?.['passwordsMismatch']"
          />
          <div *ngIf="confirmPasswordControl?.touched && confirmPasswordControl?.invalid || registerForm.errors?.['passwordsMismatch']" class="text-sm text-red-500 mt-1">
            <span *ngIf="confirmPasswordControl?.errors?.['required']">Confirmation requise.</span>
            <span *ngIf="registerForm.errors?.['passwordsMismatch']">Les mots de passe ne correspondent pas.</span>
          </div>
        </div>

        <!-- Bouton -->
        <button
          type="submit"
          [disabled]="registerForm.invalid"
          class="w-full py-3 text-white font-semibold bg-cyan-600 hover:bg-cyan-700 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed"
        >
          Cr√©er mon compte
        </button>
      </form>

      <!-- D√©j√† un compte ? -->
      <p class="text-center text-sm text-gray-700 mt-6">
        Vous avez d√©j√† un compte ?
        <a routerLink="/login" class="text-cyan-700 font-medium hover:underline">Se connecter</a>
      </p>
    </div>
  </div>
</section>
