<div
  class="flex flex-col p-4 bg-white rounded-2xl shadow-sm border border-gray-200 hover:shadow-md transition-all duration-300 cursor-pointer"
  (click)="showFullMessage()"
  [ngClass]="{ 'ring-2 ring-green-400': notification.justReceived }"
>

  <!-- Ligne sup√©rieure : statut + email -->
  <div class="flex items-center justify-between mb-3">
    <div class="flex items-center gap-2">
      <lucide-icon [name]="getStatusIcon()" class="w-6 h-6" [ngClass]="getStatusClasses()"></lucide-icon>
      <span class="font-semibold text-gray-700">{{ notification.email }}</span>
    </div>
    <span class="text-xs text-gray-400">{{ formatDateTime(notification.attemptedAt) }}</span>
  </div>

  <!-- Type de notification -->
  <div class="mb-2">
    <span class="px-2 py-1 text-xs rounded-full font-medium" [ngClass]="getTypeBadgeClasses()">
      {{ formatType(notification.type) }}
    </span>
  </div>

  <!-- Message (tronqu√©, mais tout visible au survol) -->
  <div class="text-sm text-gray-600 line-clamp-2 hover:line-clamp-none transition-all" [title]="notification.message">
    üìù {{ notification.message }}
  </div>

  <!-- Badge statut -->
  <div class="mt-4 self-end">
    <span class="px-3 py-1 text-xs rounded-full font-semibold" [ngClass]="getStatusClasses()">
      {{ notification.status === 'SUCCESS' ? 'Succ√®s' : '√âchec' }}
    </span>
  </div>
</div>
